[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Jacob Perez",
    "section": "",
    "text": "Hi I’m Jacob. I am a stats grad student with an acturial prep minor from Cal Poly SLO. I built this site to share some of my favorite data projects, because I love to sit and work at a computer for hours on end :).\nObviously I love to visualize data in many ways and get the chance to test many peoples different hypotheses, but when im not buried in code, I do enjoy other things. I really enjoy to watch and consume anything sports related, right now I am watching a lot of basketball, soccer, football, and trying to learn baseball. If im not watching I’m usually playing, at least basketball or soccer. If you need a team to support follow me in my Manchester United fandom. Besides sports I also love to play some board games, never lost at Settlers of Catan, which is my claim to fame. Lately, I’ve really been trying to level up my cooking skills, open to any recommendations."
  },
  {
    "objectID": "posts.html",
    "href": "posts.html",
    "title": "My Blog",
    "section": "",
    "text": "Making Static Quarto Dashboards\n\n\n\nQuarto\n\n\nR\n\n\nSTAT541\n\n\n\nA brief introduction to making static Quarto dashboards\n\n\n\nJacob Perez\n\n\nMay 5, 2025\n\n\n\n\n\n\n\n\n\n\n\n\nHaving Fun with Data Visualizations\n\n\n\nQuarto\n\n\nR\n\n\nSTAT541\n\n\n\nAn animated visaulization exploring the Wellcome Global Monitor 2018 Report\n\n\n\nJacob Perez\n\n\nApr 30, 2025\n\n\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/lab2benchmarks.html",
    "href": "posts/lab2benchmarks.html",
    "title": "Lab 2 Benchmarks",
    "section": "",
    "text": "library(readxl)\nlibrary(here)\n\nhere() starts at /Users/jacobubafu/Desktop/WebsitePortfolio/jacobperez-debug.github.io\n\nwgm2018 &lt;- read_excel(here::here(\"data/wgm2018-dataset-crosstabs-all-countries.xlsx\"), sheet = 2)\n\nwgm20183 &lt;- read_excel(here::here(\"data/wgm2018-dataset-crosstabs-all-countries.xlsx\"), sheet = 3)\n\n\nImprove the visualization above by either re-creating it with the issues you identified fixed OR by creating a new visualization that you believe tells the same story better.\n\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(gganimate)\n\ndf_raw &lt;- tibble(x = str_split(wgm20183$`Variable Type & Codes*`[1], ',\\\\s')[[1]])\n\ndf_countries &lt;- df_raw |&gt;\n  separate_wider_delim(x, delim = '=', names = c(\"country_id\", \"country_name\")) |&gt;\n  mutate(country_id = as.numeric(country_id))\n\n\nwgm2018_joined &lt;-  left_join(wgm2018, df_countries, by = c(\"WP5\" = \"country_id\")) |&gt;\n  mutate(region = case_when(\n    Regions_Report %in% c(1, 2, 4, 5) ~ \"Africa\",\n    Regions_Report %in% c(6, 7, 8) ~ \"Americas\",\n    Regions_Report %in% c(9, 10, 11, 12, 18) ~ \"Asia\",\n    Regions_Report %in% c(3, 13) ~ \"Middle East and North Africa\",\n    Regions_Report %in% c(14) ~ \"Former Soviet Union\",\n    Regions_Report %in% c(15, 16, 17, 0) ~ \"Europe\"\n  )) |&gt;\n  select(country_name, region, wgt, PROJWT, Q25, Q9, Q8, Q6)\n\n\nsummary_df &lt;- wgm2018_joined |&gt;\n  filter(!is.na(Q25)) |&gt;\n  group_by(country_name, region) |&gt;\n  summarise(\n    total_responses = n(),\n    count = sum(Q25 %in% c(1, 2)),\n    prop = count / total_responses\n  ) |&gt;\n  select(country_name, region, prop) %&gt;%\n  mutate(country_name = if_else(country_name == \"Northern Cyprus,\", \"Northern Cyprus\", country_name))\n\n`summarise()` has grouped output by 'country_name'. You can override using the\n`.groups` argument.\n\n\n\nwrite_csv(wgm2018_joined, here::here(\"data/wgm2018_joined.csv\"))\n\n\nwrite_csv(summary_df, here::here(\"data/summary_df.csv\"))"
  },
  {
    "objectID": "posts/2025-04-30-my-blog-post/index.html",
    "href": "posts/2025-04-30-my-blog-post/index.html",
    "title": "Having Fun with Data Visualizations",
    "section": "",
    "text": "Create a Quarto file for ALL Lab 2 (no separate files for Parts 1 and 2).\n\nMake sure your final file is carefully formatted, so that each analysis is clear and concise.\nBe sure your knitted .html file shows all your source code, including any function definitions."
  },
  {
    "objectID": "posts/2025-04-30-my-blog-post/index.html#dissecting-a-bad-visualization",
    "href": "posts/2025-04-30-my-blog-post/index.html#dissecting-a-bad-visualization",
    "title": "Having Fun with Data Visualizations",
    "section": "Dissecting a Bad Visualization",
    "text": "Dissecting a Bad Visualization\nBelow is an example of a less-than-ideal visualization from the collection linked above. It comes to us from data provided for the Wellcome Global Monitor 2018 report by the Gallup World Poll:\n\nWhile there are certainly issues with this image, do your best to tell the story of this graph in words. That is, what is this graph telling you? What do you think the authors meant to convey with it?\n\nThis graph seems to plot the distribution of the percentage of people who believe vaccines are safe for each country. The distributions are separated by continents with a horizontal median bar displayed for each continent. I believe the message of this graph is supposed to show which continents believe in vaccines the most as the graph is organized from highest median percentage per continent to lowest median percentage. The graph also labels the extreme values in each continent, which are the countries, so you can see by continent which countries have the lowest and the highest percentage.\n\nList the variables that appear to be displayed in this visualization. Hint: Variables refer to columns in the data.\n\nThe columns seem to be continent, country, and percent who believe vaccines are safe.\n\nNow that you’re versed in the grammar of graphics (e.g., ggplot), list the aesthetics used and which variables are mapped to each.\n\nSo the x aesthetic seems to have % of people who believe vaccines are safe. The y aesthetic seems to be country. There is also a color aesthetic that seems to have the region variable mapped to it.\n\nWhat type of graph would you call this? Meaning, what geom would you use to produce this plot?\n\nThis would be a geom_point() graph or a dot plot. It seems to be dot plots of each continent stacked on top of each other.\n\nProvide at least four problems or changes that would improve this graph. Please format your changes as bullet points!\n\nThe first change I would make would be to remove the legend as there is no need since it is labeled on the graphs."
  },
  {
    "objectID": "posts/2025-04-30-my-blog-post/index.html#improving-the-bad-visualization",
    "href": "posts/2025-04-30-my-blog-post/index.html#improving-the-bad-visualization",
    "title": "Having Fun with Data Visualizations",
    "section": "Improving the Bad Visualization",
    "text": "Improving the Bad Visualization\nThe data for the Wellcome Global Monitor 2018 report can be downloaded at the following site: https://wellcome.ac.uk/reports/wellcome-global-monitor/2018\n\n\nCode\nlibrary(tidyverse)\nlibrary(gganimate)\n\n\n\n\nCode\nwgm2018_joined &lt;- read.csv(here::here(\"data/wgm2018_joined.csv\"))\n\nsummary_df &lt;- read.csv(here::here(\"data/summary_df.csv\"))\n\n\n\n\nCode\nregion_medians &lt;- summary_df %&gt;%\n  group_by(region) %&gt;%\n  summarise(median_prop = median(prop, na.rm = TRUE))\n\nlabels &lt;- summary_df %&gt;%\n  group_by(region) %&gt;%\n  arrange(prop) %&gt;%\n  slice_head(n = 3) %&gt;%\n  bind_rows(\n    summary_df %&gt;%\n      group_by(region) %&gt;%\n      arrange(desc(prop)) %&gt;%\n      slice_head(n = 3))\n\n\n\n\nCode\np &lt;- ggplot(summary_df, aes(x = prop, y = country_name, color = region)) +\n  geom_point() +\n  geom_vline(data = region_medians, \n             aes(xintercept = median_prop),\n             color = \"black\",\n             linetype = \"twodash\",\n             size = 0.3,\n             alpha = 0.8) + \n  geom_text(data = region_medians,\n          aes(x = median_prop, \n              y = Inf,\n              label = paste0(\"Median: \", round(median_prop * 100, 1), \"%\")),\n          color = \"black\",\n          size = 3,\n          fontface = \"bold\") +\n  labs(\n    x = \"% of people who believe vaccines are safe\",\n    y = NULL,\n    title = \"Belief in Vaccine Safety - {closest_state}\"\n  ) +\n  theme_minimal(base_size = 12) +\n  theme(\n    plot.margin = margin(4, 60, 4, 4),\n    legend.position = \"none\",\n    axis.text.y = element_blank()\n  ) +\n  geom_text(data = labels,\n            aes(label = country_name),\n            hjust = 0, \n            size = 3, \n            color = \"black\",\n            nudge_x = 0.015) +\n  coord_cartesian(clip = \"off\") + \n  scale_color_brewer(palette = \"Set2\") + \n  transition_states(region, \n                    transition_length = 2,\n                    state_length = 2) + \n  ease_aes('cubic-in-out')\n\nanim &lt;- animate(p, renderer = gifski_renderer())\nanim_save(\"vaccine.gif\", animation = anim)\n\nknitr::include_graphics(\"vaccine.gif\")"
  },
  {
    "objectID": "posts/2025-04-30-my-blog-post/index.html#second-data-visualization-improvement",
    "href": "posts/2025-04-30-my-blog-post/index.html#second-data-visualization-improvement",
    "title": "Having Fun with Data Visualizations",
    "section": "Second Data Visualization Improvement",
    "text": "Second Data Visualization Improvement\nFor this second plot, you must select a plot that uses maps so you can demonstrate your proficiency with the leaflet package!\n\nSelect a data visualization in the report that you think could be improved. Be sure to cite both the page number and figure title. Do your best to tell the story of this graph in words. That is, what is this graph telling you? What do you think the authors meant to convey with it?\n\nI decided to choose the map called: Map of interest in knowing more about medicine, disease or health by country. This map is on page 39. This map shows a global view of public interest in learning more about medicine, disease, or health, based on the percentage of people in each country who responded “yes” to the question: “Would you, personally, like to know more about medicine, disease or health?” The map reveals that the highest interest in health knowledge seems to be in countries across South Asia, the Middle East, parts of Latin America, and Southern Africe.\n\nList the variables that appear to be displayed in this visualization.\n\nThe variables seem to be the country and then the interest level in health knowledge seems to be the other variable.\n\nNow that you’re versed in the grammar of graphics (ggplot), list the aesthetics used and which variables are specified for each.\n\nI think the most notable aesthetic would be the color scale with a gradient fill.\n\nWhat type of graph would you call this?\n\nThis is a map, by showing the whole world and countries colored in with no true x or y axis labels.\n\nList all of the problems or things you would improve about this graph.\n\nI think one possible improvement could be to use a more accessible/contrasting palette. The green gradient at times makes it hard to find the separate percentages in regions. It would be nice to make it interactive with exact percentages for each country on a hover.\n\nImprove the visualization above by either re-creating it with the issues you identified fixed OR by creating a new visualization that you believe tells the same story better.\n\n\n\nCode\n#|label: cleaning data for leaflet\n\nleaflet_df &lt;- wgm2018_joined |&gt;\n  filter(!is.na(Q9)) |&gt;\n  group_by(country_name, region) |&gt;\n  summarise(\n    total_responses = n(),\n    count = sum(Q9 == 1),\n    prop = count / total_responses\n  ) |&gt;\n  select(country_name, region, prop) %&gt;%\n  mutate(country_name = if_else(country_name == \"Northern Cyprus,\", \"Northern Cyprus\", country_name))\n\n\n\n\nCode\nlibrary(leaflet)\nlibrary(sf)\nlibrary(rnaturalearth)\nlibrary(dplyr)\n\nworld_sf &lt;- ne_countries(scale = \"medium\", returnclass = \"sf\")\n\ncountry_names &lt;- tibble::tibble(\n  country_name = c(\"Bosnia and Herzegovina\", \"Czech Republic\", \"Dominican Republic\", \"Eswatini\", \"Ivory Coast\", \"Macedonia\", \"Northern Cyprus\", \"Palestinian Territories\", \"Republic of Congo\", \"The Gambia\", \"United States\"),\n  name = c(\"Bosnia and Herz.\", \"Czechia\", \"Dominican Rep.\", \"eSwatini\", \"Côte d'Ivoire\", \"North Macedonia\", \"N. Cyprus\", \"Palestine\", \"Congo\", \"Gambia\", \"United States of America\")\n)\n\nleaflet_df &lt;- leaflet_df %&gt;%\n  left_join(country_names, by = \"country_name\") %&gt;%\n  mutate(name = coalesce(name, country_name))\n\nleaflet_map_df &lt;- left_join(world_sf, leaflet_df, by = \"name\")\n\nlf_labels &lt;- sprintf(\n  \"&lt;strong&gt;%s&lt;/strong&gt;&lt;br/&gt;%s&lt;br/&gt;Interest: %g%%\",\n  leaflet_map_df$name,\n  leaflet_map_df$region,\n  round(leaflet_map_df$prop * 100, 1)\n) %&gt;% lapply(htmltools::HTML)\n\npal &lt;- colorNumeric(\n  palette = \"YlGnBu\",\n  domain = leaflet_df$prop\n)\n\n\n\n\nCode\nleaflet(leaflet_map_df) %&gt;%\n  addTiles() %&gt;%\n  addPolygons(\n    fillColor = ~pal(prop),\n    color = \"white\",\n    weight = 0.5,\n    fillOpacity = 0.8,\n    label = lf_labels,\n    highlight = highlightOptions(\n      weight = 2,\n      color = \"#666\",\n      fillOpacity = 0.9,\n      bringToFront = TRUE\n    )\n  )"
  },
  {
    "objectID": "posts/2025-04-30-my-blog-post/index.html#third-data-visualization-improvement",
    "href": "posts/2025-04-30-my-blog-post/index.html#third-data-visualization-improvement",
    "title": "Having Fun with Data Visualizations",
    "section": "Third Data Visualization Improvement",
    "text": "Third Data Visualization Improvement\nFor this third plot, you must use one of the other ggplot2 extension packages mentioned this week (e.g., gganimate, plotly, patchwork, cowplot).\n\nSelect a data visualization in the report that you think could be improved. Be sure to cite both the page number and figure title. Do your best to tell the story of this graph in words. That is, what is this graph telling you? What do you think the authors meant to convey with it?\n\nThe graph I chose was chart 2.15 called Scatterplot exploring interest in science by those who have sought information. It appears on page 40. The graph shows on the x-axis the percentage of people in a country who say they want to know more about science. The y-axis shows the percentage of people in that same country who say they’ve sought science information in the past 30 days. Each square represents a country, and the dashed lines show the medians of people who want to learn more and people who have actually looked up science info. I think that the authors are trying to show that the interest in science is high globally, whereas the engagement is limited. I think there is a gap between desire and action in terms of science education.\n\nList the variables that appear to be displayed in this visualization.\n\nThe variables that seem to appear in the displayed visualization are country, where each dot represents a country. The percentage who would like to know more about science which is on the x-axis and the percentage who have sought science information in the last 30 days which is on the y-axis.\n\nNow that you’re versed in the grammar of graphics (ggplot), list the aesthetics used and which variables are specified for each.\n\nThe x aesthetic is percentage who would like to know more about science, the y aesthetic is percentage who have sought science information in the last 30 days. There is also maybe some label aesthetic that has certain countries on the scatterplot labeled.\n\nWhat type of graph would you call this?\n\nThis is a scatterplot or dotplot as stated in the title in the book.\n\nList all of the problems or things you would improve about this graph.\nThere is no interaction with the plot so aside from the labeled countries its hard to gauge where certain regions are concentrated or where your individual country may lie. Similar to the last point but we just get one color across all these points. With color we could separate countries by the quadrants or by region or some other meaningful statistic that would help the viewer gain another story from this plot. The question in the subtitle is misleading as this was not the question(s) that are being displayed in the plot. To improve this plot I would make it interactive so you could hover over individual points and gain the necessary information from each. I would also try and add some sort of region aesthetic so we can paint a picture consistently with the previous graphs of how each region is doing.\nImprove the visualization above by either re-creating it with the issues you identified fixed OR by creating a new visualization that you believe tells the same story better.\n\n\n\nCode\ndf1 &lt;- wgm2018_joined %&gt;%\n  filter(!is.na(Q6)) %&gt;%\n  group_by(country_name) %&gt;%\n  summarise(\n    prop_Q6 = mean(Q6 == 1)\n  )\n\ndf2 &lt;- wgm2018_joined %&gt;%\n  filter(!is.na(Q8)) %&gt;%\n  group_by(country_name) %&gt;%\n  summarise(\n    prop_Q8 = mean(Q8 == 1)\n  )\n\nregion_df &lt;- wgm2018_joined %&gt;%\n  select(country_name, region) %&gt;%\n  distinct()\n\nfinal_df &lt;- df1 %&gt;%\n  left_join(df2, by = \"country_name\") %&gt;%\n  left_join(region_df, by = \"country_name\") %&gt;%\n  mutate(\n    info_pct = prop_Q6 *100,\n    knowmore_pct = prop_Q8 * 100\n  )\n\n\n\n\nCode\nlibrary(plotly)\n\nx_median &lt;- median(final_df$knowmore_pct, na.rm = TRUE)\ny_median &lt;- median(final_df$info_pct, na.rm = TRUE)\n\np &lt;- ggplot(final_df, aes(\n  x = knowmore_pct, \n  y = info_pct, \n  color = region,\n  text = paste0(\n    \"&lt;b&gt;\", country_name, \"&lt;/b&gt;&lt;br&gt;\",\n    \"Science Interest: \", round(knowmore_pct, 1), \"%&lt;br&gt;\",\n    \"Information Seeking: \", round(info_pct, 1), \"%&lt;br&gt;\",\n    \"Region: \", region\n  )\n  )) +\n  geom_point(alpha = 0.8) + \n  geom_vline(xintercept = x_median, \n             linetype = \"dashed\", \n             color = \"gray40\") +\n  geom_hline(yintercept = y_median, \n             linetype = \"dashed\", \n             color = \"gray40\") + \n  scale_color_brewer(palette = \"Set2\") +\n  labs(\n    x = NULL,\n    y = NULL,\n    subtitle = \"Each point represents a country, colored by region\",\n    title = \"Science Interest vs. Information Seeking\"\n  ) +\n  theme_minimal() + \n  theme(\n    plot.title.position = \"plot\",\n    legend.position = \"none\"\n  )\n\np &lt;- p +\n  annotate(\"text\", \n           x = x_median + 1.5, \n           y = min(final_df$info_pct, na.rm = TRUE), \n           label = paste0(\"Median = \", round(x_median, 1), \"%\"), \n           hjust = 0, \n           size = 3.5,\n           color = \"gray30\") +\n  annotate(\"text\", \n           x = 40, \n           y = y_median + 1.5,\n           hjust = 0,\n           size = 3.5,\n           label = paste0(\"Median = \", round(y_median, 1), \"%\"), \n           color = \"gray30\")\n\n\nggplotly(p, tooltip = \"text\")"
  },
  {
    "objectID": "posts/2025-05-05-lab3/index.html#about-the-project",
    "href": "posts/2025-05-05-lab3/index.html#about-the-project",
    "title": "Making Static Quarto Dashboards",
    "section": "About the Project",
    "text": "About the Project\nThis dashboard explores changes in public trust in science across different global regions. Built using Quarto and Leaflet, it allows users to interactively explore survey results across time and geography.\nView Dashboard Code on GitHub"
  }
]